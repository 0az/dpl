#!/usr/bin/env ruby
$: << File.expand_path('../../lib', __FILE__)

$stdout.sync = true
$stderr.sync = true

require 'dpl'

begin
  Dpl::Cli.new.run(ARGV)
rescue Dpl::Error => e
  msg = "\e[31m#{e.message}\e[0m"
  msg = [msg, *e.backtrace].join("\n") if e.backtrace?
  abort msg
end
